<link rel="import" href="bower_components/core-list/core-list.html">
<link rel="import" href="bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="bower_components/paper-focusable/paper-focusable.html">
<link rel="import" href="bower_components/core-icon/core-icon.html">

<polymer-element name="scritch007-browseelement"  attributes="file">

  <template>
    <style>
    :host{
      display:block;
      position:relative;
    }
    :host(:hover){
      background: silver;
    }


    .item {
      box-sizing: border-box;
      height: 80px;
      border-bottom: 1px solid #ddd;
      cursor: default;
      overflow: hidden;
    }
    .item :hover{
      background: silver;
    };
    </style>
    <div class="item" id="item" on-click="{{browseAction}}">
      <core-icon icon="{{type}}"></core-icon>
      <span class="name">{{file.name}}</span>
      <span class="size">{{file.size}}</span>
      <span class="kind">{{file.kind}}</span>
      <span class="mdate">{{file.mDate}}</span>
    </div>

  </template>
  <script >
    Polymer("scritch007-browseelement",{
      file: null,
      type:"warning",
      ready: function(){
      },
      attached: function(){
        this.type = this.file.isDir?"folder":"drive-file";
      },
      browseAction: function(){
        if(!this.file.isDir)
          return
        browse( this.file.path)
      }
  })
  </script>
</polymer-element>

<polymer-element name="scritch007-browselist">
<template>
  <style>
    :host{
      display:block;
    };
    core-list {
      height: 100%;
    }

    .item {
      box-sizing: border-box;
      height: 80px;
      border-bottom: 1px solid #ddd;
      cursor: default;
      overflow: hidden;
    }

    .selected {
      background: silver;
    }

  </style>
  <core-list id="list" data="{{data}}" height="80">
    <template repeat="{{ file in data }}">
      <scritch007-browseelement file="{{file}}"></scritch007-browseelement>
    </template>
  </core-list>

</template>
<script>
(function() {

  Polymer('scritch007-browselist', {
    ready: function() {
      this.data = [];
    }
  });
})();
</script>
</polymer-element>
